Docker/part_2/exercice_2_4/scaling-exercise$ docker-compose up --scale compute=2Creating network "scaling-exercise_default" with the default driverBuilding calculatorStep 1/6 : FROM nodelatest: Pulling from library/node7919f5b7d602: Pull complete0e107167dcc5: Pull complete66a456bba435: Pull complete5435318a0426: Pull complete8494dd328465: Pull complete3b01939c6506: Pull completedcdfe2eaf597: Pull complete33e17b8abb03: Pull complete7d88992efa4b: Pull completeDigest: sha256:b0423b556aab2e51095a4e0d0a070e919ec9c31c6045ec6478f9a3f2004b4b5bStatus: Downloaded newer image for node:latest ---> 969d445a1755Step 2/6 : WORKDIR /usr/app ---> Running in 40db951099fcRemoving intermediate container 40db951099fc ---> d89353d8f021Step 3/6 : COPY . . ---> 8b8b08cc4f85Step 4/6 : RUN npm ci && npm run build ---> Running in a6bd05eb9f6badded 865 packages, and audited 931 packages in 4m23 vulnerabilities (7 low, 5 moderate, 11 high)To address all issues, run:  npm audit fixRun `npm audit` for details.npm notice npm notice New patch version of npm available! 7.0.8 -> 7.0.12npm notice Changelog: <https://github.com/npm/cli/releases/tag/v7.0.12>npm notice Run `npm install -g npm@7.0.12` to update!npm notice > calc@1.0.0 build> webpack --mode productionBrowserslist: caniuse-lite is outdated. Please run next command `npm update`Hash: 9052f618c627f0102b79Version: webpack 4.29.6Time: 58399msBuilt at: 11/20/2020 8:18:10 PM                                 Asset       Size  Chunks                    Chunk Names0ab54153eeeca0ce03978cc463b257f7.woff2   39.2 KiB          [emitted]           13db00b7a34fee4d819ab7f9838cc428.eot   96.3 KiB          [emitted]           701ae6abd4719e9c2ada3535a497b341.eot   30.4 KiB          [emitted]           82f60bd0b94a1ed68b1e6e309ce2e8c3.svg    105 KiB          [emitted]           8e3c7f5520f5ae906c6cf6d7f3ddcd19.eot    104 KiB          [emitted]           962a1bf31c081691065fe333d9fa8105.svg    382 KiB          [emitted]  [big]    9c74e172f87984c48ddf5c8108cabe67.png   27.5 KiB          [emitted]          a046592bac8f2fd96e994733faf3858c.woff   62.2 KiB          [emitted]           a1a749e89f578a49306ec2b055c073da.svg    496 KiB          [emitted]  [big]    ad97afd3337e8cda302d10ff5a4026b8.ttf   30.2 KiB          [emitted]           b87b9ba532ace76ae9f6edfe9f72ded2.ttf    103 KiB          [emitted]           c5ebe0b32dc1b5cc449a76c4204d13bb.ttf   96.1 KiB          [emitted]         cd6c777f1945164224dee082abaea03a.woff2     12 KiB          [emitted]         e8c322de9658cbeb8a774b6624167c2c.woff2   53.2 KiB          [emitted]          ef60a4f6c25ef7f39f2d25a748dbecfe.woff   14.4 KiB          [emitted]          faff92145777a3cbaf8e7367b4807987.woff   49.3 KiB          [emitted]                                     index.html  612 bytes          [emitted]                                       main.css    614 KiB       0  [emitted]  [big]  main                               main.js    301 KiB       0  [emitted]  [big]  mainEntrypoint main [big] = main.css main.js[196] (webpack)/buildin/global.js 472 bytes {0} [built][212] (webpack)/buildin/module.js 497 bytes {0} [built][244] multi @babel/polyfill ./src 40 bytes {0} [built][574] ./src/index.js + 39 modules 147 KiB {0} [built]      | ./src/index.js 318 bytes [built]      | ./src/commons.js 1.66 KiB [built]      |     + 38 hidden modules    + 951 hidden modulesWARNING in asset size limit: The following asset(s) exceed the recommended size limit (244 KiB).This can impact web performance.Assets:   962a1bf31c081691065fe333d9fa8105.svg (382 KiB)  a1a749e89f578a49306ec2b055c073da.svg (496 KiB)  main.css (614 KiB)  main.js (301 KiB)WARNING in entrypoint size limit: The following entrypoint(s) combined asset size exceeds the recommended limit (244 KiB). This can impact web performance.Entrypoints:  main (914 KiB)      main.css      main.jsWARNING in webpack performance recommendations: You can limit the size of your bundles by using import() or require.ensure to lazy load some parts of your application.For more info visit https://webpack.js.org/guides/code-splitting/Child html-webpack-plugin for "index.html":     1 asset    Entrypoint undefined = index.html    [0] ./node_modules/html-webpack-plugin/lib/loader.js!./src/index.html 737 bytes {0} [built]    [2] (webpack)/buildin/global.js 472 bytes {0} [built]    [3] (webpack)/buildin/module.js 497 bytes {0} [built]        + 1 hidden moduleChild mini-css-extract-plugin node_modules/css-loader/dist/cjs.js!node_modules/semantic-ui-css/semantic.min.css:    Entrypoint mini-css-extract-plugin = *       19 modulesRemoving intermediate container a6bd05eb9f6b ---> a85da76af9e8Step 5/6 : EXPOSE 3000 ---> Running in c5f7d1fc2d24Removing intermediate container c5f7d1fc2d24 ---> d627df0ddc14Step 6/6 : CMD ["npm", "start"] ---> Running in 0070bf8b3fadRemoving intermediate container 0070bf8b3fad ---> f77279c9f0a7Successfully built f77279c9f0a7Successfully tagged calculator:latestWARNING: Image for service calculator was built because it did not already exist. To rebuild this image you must use `docker-compose build` or `docker-compose up --build`.Building computeStep 1/6 : FROM node ---> 969d445a1755Step 2/6 : WORKDIR /usr/app ---> Using cache ---> d89353d8f021Step 3/6 : COPY . . ---> 372435da1e37Step 4/6 : RUN npm ci ---> Running in 1e36f57bb09cadded 269 packages, and audited 335 packages in 37s7 vulnerabilities (3 low, 4 high)To address all issues, run:  npm audit fixRun `npm audit` for details.npm notice npm notice New patch version of npm available! 7.0.8 -> 7.0.13npm notice Changelog: <https://github.com/npm/cli/releases/tag/v7.0.13>npm notice Run `npm install -g npm@7.0.13` to update!npm notice Removing intermediate container 1e36f57bb09c ---> 3d65c17e7bd9Step 5/6 : EXPOSE 3000 ---> Running in f5c482c11a56Removing intermediate container f5c482c11a56 ---> 852f2ecfe67eStep 6/6 : CMD ["node", "./index.js"] ---> Running in dcb6f8504705Removing intermediate container dcb6f8504705 ---> 365bc5945d6cSuccessfully built 365bc5945d6cSuccessfully tagged compute:latestWARNING: Image for service compute was built because it did not already exist. To rebuild this image you must use `docker-compose build` or `docker-compose up --build`.Building load-balancerStep 1/2 : FROM jwilder/nginx-proxy ---> 509ff2fb81ddStep 2/2 : EXPOSE 80 ---> Running in 82b248af8ceaRemoving intermediate container 82b248af8cea ---> a2722b6ee6c9Successfully built a2722b6ee6c9Successfully tagged load-balancer:latestWARNING: Image for service load-balancer was built because it did not already exist. To rebuild this image you must use `docker-compose build` or `docker-compose up --build`.Creating calculator                 ... doneCreating scaling-exercise_compute_1 ... doneCreating scaling-exercise_compute_2 ... doneCreating load-balancer              ... doneAttaching to calculator, load-balancer, scaling-exercise_compute_2, scaling-exercise_compute_1calculator       | calculator       | > calc@1.0.0 startcalculator       | > serve -s -l 3000 distcalculator       | load-balancer    | WARNING: /etc/nginx/dhparam/dhparam.pem was not found. A pre-generated dhparam.pem will be used for now while a new oneload-balancer    | is being generated in the background.  Once the new dhparam.pem is in place, nginx will be reloaded.calculator       | UPDATE AVAILABLE The latest version of `serve` is 11.3.2calculator       | INFO: Accepting connections at http://localhost:3000load-balancer    | forego     | starting dockergen.1 on port 5000load-balancer    | forego     | starting nginx.1 on port 5100compute_2        | I just connected on port 3000!compute_1        | I just connected on port 3000!load-balancer    | dockergen.1 | 2020/11/20 20:21:08 Generated '/etc/nginx/conf.d/default.conf' from 4 containersload-balancer    | dockergen.1 | 2020/11/20 20:21:08 Running 'nginx -s reload'load-balancer    | dockergen.1 | 2020/11/20 20:21:08 Watching docker eventsload-balancer    | dockergen.1 | 2020/11/20 20:21:10 Contents of /etc/nginx/conf.d/default.conf did not change. Skipping notification 'nginx -s reload'load-balancer    | nginx.1    | calculator.localtest.me 172.19.0.1 - - [20/Nov/2020:20:21:14 +0000] "GET / HTTP/1.1" 200 612 "-" "Mozilla/5.0 (X11; Linux x86_64; rv:78.0) Gecko/20100101 Firefox/78.0"load-balancer    | nginx.1    | calculator.localtest.me 172.19.0.1 - - [20/Nov/2020:20:21:18 +0000] "GET /main.css HTTP/1.1" 200 103559 "http://calculator.localtest.me/" "Mozilla/5.0 (X11; Linux x86_64; rv:78.0) Gecko/20100101 Firefox/78.0"load-balancer    | nginx.1    | calculator.localtest.me 172.19.0.1 - - [20/Nov/2020:20:21:18 +0000] "GET /main.js HTTP/1.1" 200 96730 "http://calculator.localtest.me/" "Mozilla/5.0 (X11; Linux x86_64; rv:78.0) Gecko/20100101 Firefox/78.0"load-balancer    | nginx.1    | calculator.localtest.me 172.19.0.1 - - [20/Nov/2020:20:21:20 +0000] "GET /favicon.ico HTTP/1.1" 200 612 "-" "Mozilla/5.0 (X11; Linux x86_64; rv:78.0) Gecko/20100101 Firefox/78.0"load-balancer    | 2020/11/20 20:21:38 [notice] 42#42: signal process startedload-balancer    | Generating DSA parameters, 4096 bit long primeload-balancer    | dhparam generation complete, reloading nginxload-balancer    | nginx.1    | compute.localtest.me 172.19.0.1 - - [20/Nov/2020:20:21:59 +0000] "OPTIONS / HTTP/1.1" 204 0 "http://calculator.localtest.me/" "Mozilla/5.0 (X11; Linux x86_64; rv:78.0) Gecko/20100101 Firefox/78.0"load-balancer    | nginx.1    | compute.localtest.me 172.19.0.1 - - [20/Nov/2020:20:21:59 +0000] "OPTIONS / HTTP/1.1" 204 0 "http://calculator.localtest.me/" "Mozilla/5.0 (X11; Linux x86_64; rv:78.0) Gecko/20100101 Firefox/78.0"load-balancer    | nginx.1    | compute.localtest.me 172.19.0.1 - - [20/Nov/2020:20:21:59 +0000] "OPTIONS / HTTP/1.1" 204 0 "http://calculator.localtest.me/" "Mozilla/5.0 (X11; Linux x86_64; rv:78.0) Gecko/20100101 Firefox/78.0"compute_1        | Added to quecompute_1        | Started resolving loopcompute_1        | Started calculations for 1 + 1compute_2        | Added to quecompute_2        | Started resolving loopcompute_2        | Started calculations for 3 + 3compute_1        | Added to quecompute_2        | Added to quecompute_1        | Added to quecompute_2        | Added to quecompute_1        | Calculated 1 + 1: 2load-balancer    | nginx.1    | compute.localtest.me 172.19.0.1 - - [20/Nov/2020:20:22:02 +0000] "POST / HTTP/1.1" 200 39 "http://calculator.localtest.me/" "Mozilla/5.0 (X11; Linux x86_64; rv:78.0) Gecko/20100101 Firefox/78.0"compute_1        | Started calculations for 2 + 2compute_1        | Added to quecompute_2        | Calculated 3 + 3: 6load-balancer    | nginx.1    | compute.localtest.me 172.19.0.1 - - [20/Nov/2020:20:22:03 +0000] "POST / HTTP/1.1" 200 39 "http://calculator.localtest.me/" "Mozilla/5.0 (X11; Linux x86_64; rv:78.0) Gecko/20100101 Firefox/78.0"compute_2        | Started calculations for 4 + 4compute_2        | Added to quecompute_1        | Calculated 2 + 2: 4load-balancer    | nginx.1    | compute.localtest.me 172.19.0.1 - - [20/Nov/2020:20:22:06 +0000] "POST / HTTP/1.1" 200 39 "http://calculator.localtest.me/" "Mozilla/5.0 (X11; Linux x86_64; rv:78.0) Gecko/20100101 Firefox/78.0"compute_1        | Started calculations for 5 + 5compute_1        | Added to quecompute_2        | Calculated 4 + 4: 8load-balancer    | nginx.1    | compute.localtest.me 172.19.0.1 - - [20/Nov/2020:20:22:06 +0000] "POST / HTTP/1.1" 200 39 "http://calculator.localtest.me/" "Mozilla/5.0 (X11; Linux x86_64; rv:78.0) Gecko/20100101 Firefox/78.0"compute_2        | Started calculations for 6 + 6compute_2        | Added to queload-balancer    | nginx.1    | compute.localtest.me 172.19.0.1 - - [20/Nov/2020:20:22:09 +0000] "POST / HTTP/1.1" 200 40 "http://calculator.localtest.me/" "Mozilla/5.0 (X11; Linux x86_64; rv:78.0) Gecko/20100101 Firefox/78.0"compute_1        | Calculated 5 + 5: 10compute_1        | Started calculations for 7 + 7compute_2        | Calculated 6 + 6: 12compute_2        | Started calculations for 8 + 8load-balancer    | nginx.1    | compute.localtest.me 172.19.0.1 - - [20/Nov/2020:20:22:10 +0000] "POST / HTTP/1.1" 200 40 "http://calculator.localtest.me/" "Mozilla/5.0 (X11; Linux x86_64; rv:78.0) Gecko/20100101 Firefox/78.0"compute_1        | Calculated 7 + 7: 14compute_1        | Started calculations for 9 + 9load-balancer    | nginx.1    | compute.localtest.me 172.19.0.1 - - [20/Nov/2020:20:22:12 +0000] "POST / HTTP/1.1" 200 40 "http://calculator.localtest.me/" "Mozilla/5.0 (X11; Linux x86_64; rv:78.0) Gecko/20100101 Firefox/78.0"compute_2        | Calculated 8 + 8: 16compute_2        | Started calculations for 10 + 10load-balancer    | nginx.1    | compute.localtest.me 172.19.0.1 - - [20/Nov/2020:20:22:14 +0000] "POST / HTTP/1.1" 200 40 "http://calculator.localtest.me/" "Mozilla/5.0 (X11; Linux x86_64; rv:78.0) Gecko/20100101 Firefox/78.0"compute_1        | Calculated 9 + 9: 18load-balancer    | nginx.1    | compute.localtest.me 172.19.0.1 - - [20/Nov/2020:20:22:16 +0000] "POST / HTTP/1.1" 200 40 "http://calculator.localtest.me/" "Mozilla/5.0 (X11; Linux x86_64; rv:78.0) Gecko/20100101 Firefox/78.0"load-balancer    | nginx.1    | compute.localtest.me 172.19.0.1 - - [20/Nov/2020:20:22:17 +0000] "POST / HTTP/1.1" 200 42 "http://calculator.localtest.me/" "Mozilla/5.0 (X11; Linux x86_64; rv:78.0) Gecko/20100101 Firefox/78.0"compute_2        | Calculated 10 + 10: 20^CGracefully stopping... (press Ctrl+C again to force)Stopping load-balancer              ... doneStopping scaling-exercise_compute_2 ... doneStopping scaling-exercise_compute_1 ... doneStopping calculator                 ... done